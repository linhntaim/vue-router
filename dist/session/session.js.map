{"version":3,"sources":["../../src/session/session.js"],"names":["Session","accessTime","nextAccessTime","data","key","value","store","flash"],"mappings":"utBAAqBA,CAAAA,O,yBACjB,kBAAc,+BACV,KAAKC,UAAL,CAAkB,CAAlB,CACA,KAAKC,cAAL,CAAsB,CAAtB,CAEA,KAAKC,IAAL,CAAY,EACf,C,yDAEO,CACJ,KAAKD,cAAL,CAAsB,EAAE,KAAKD,UAAP,CAAoB,CAA1C,CACA,MAAO,KACV,C,yCAES,CACN,KAAKA,UAAL,CAAkB,CAAlB,CACA,KAAKC,cAAL,CAAsB,CAAtB,CACA,MAAO,KACV,C,mCAEM,CACH,KAAKA,cAAL,CAAsB,KAAKD,UAA3B,CACA,MAAO,KACV,C,qDAEe,CACZ,KAAKC,cAAL,CAAsB,KAAKD,UAAL,CAAkB,CAAxC,CACA,MAAO,KACV,C,2CAEU,CACP,MAAO,MAAKC,cAAL,EAAuB,KAAKD,UACtC,C,yCAES,CACN,MAAO,MAAKA,UAAL,GAAoB,CAC9B,C,+CAEY,CACT,MAAO,MAAKA,UAAL,CAAkB,CAC5B,C,oCAEKG,G,CAAKC,K,CAAO,CACd,MAAO,MAAKC,KAAL,CAAWF,GAAX,CAAgBC,KAAhB,CAAuB,IAAvB,CACV,C,oCAEKD,G,CAAKC,K,CAAsB,IAAfE,CAAAA,KAAe,2DAAP,KAAO,CAC7B,KAAKJ,IAAL,CAAUC,GAAV,EAAiB,CACbC,KAAK,CAAEA,KADM,CAEbE,KAAK,CAAEA,KAFM,CAAjB,CAIA,MAAO,KACV,C,0CAEQH,G,CAAK,CACV,GAAI,EAAEA,GAAG,GAAI,MAAKD,IAAd,CAAJ,CAAyB,MAAO,KAAP,CAEzB,GAAIA,CAAAA,IAAI,CAAG,KAAKA,IAAL,CAAUC,GAAV,CAAX,CACA,GAAID,IAAI,CAACI,KAAT,CAAgB,CACZ,MAAO,MAAKJ,IAAL,CAAUC,GAAV,CACV,CACD,MAAOD,CAAAA,IAAI,CAACE,KACf,C","sourcesContent":["export default class Session {\r\n    constructor() {\r\n        this.accessTime = 0\r\n        this.nextAccessTime = 1\r\n\r\n        this.data = {}\r\n    }\r\n\r\n    start() {\r\n        this.nextAccessTime = ++this.accessTime + 1\r\n        return this\r\n    }\r\n\r\n    restart() {\r\n        this.accessTime = 1\r\n        this.nextAccessTime = 2\r\n        return this\r\n    }\r\n\r\n    skip() {\r\n        this.nextAccessTime = this.accessTime\r\n        return this\r\n    }\r\n\r\n    abortSkipping() {\r\n        this.nextAccessTime = this.accessTime + 1\r\n        return this\r\n    }\r\n\r\n    skipping() {\r\n        return this.nextAccessTime <= this.accessTime\r\n    }\r\n\r\n    isFresh() {\r\n        return this.accessTime === 1\r\n    }\r\n\r\n    isNotFresh() {\r\n        return this.accessTime > 1\r\n    }\r\n\r\n    flash(key, value) {\r\n        return this.store(key, value, true)\r\n    }\r\n\r\n    store(key, value, flash = false) {\r\n        this.data[key] = {\r\n            value: value,\r\n            flash: flash,\r\n        }\r\n        return this\r\n    }\r\n\r\n    retrieve(key) {\r\n        if (!(key in this.data)) return null\r\n\r\n        let data = this.data[key]\r\n        if (data.flash) {\r\n            delete this.data[key]\r\n        }\r\n        return data.value\r\n    }\r\n}\r\n"],"file":"session.js"}