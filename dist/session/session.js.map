{"version":3,"sources":["../../src/session/session.js"],"names":["Session","constructor","accessTime","nextAccessTime","data","start","restart","skip","abortSkipping","skipping","isFresh","isNotFresh","flash","key","value","store","retrieve"],"mappings":"AAAA,cAAe,MAAMA,CAAAA,OAAQ,CACzBC,WAAW,EAAG,CACV,KAAKC,UAAL,CAAkB,CAAlB,CACA,KAAKC,cAAL,CAAsB,CAAtB,CAEA,KAAKC,IAAL,CAAY,EACf,CAEDC,KAAK,EAAG,CACJ,KAAKF,cAAL,CAAsB,EAAE,KAAKD,UAAP,CAAoB,CAA1C,CACA,MAAO,KACV,CAEDI,OAAO,EAAG,CACN,KAAKJ,UAAL,CAAkB,CAAlB,CACA,KAAKC,cAAL,CAAsB,CAAtB,CACA,MAAO,KACV,CAEDI,IAAI,EAAG,CACH,KAAKJ,cAAL,CAAsB,KAAKD,UAA3B,CACA,MAAO,KACV,CAEDM,aAAa,EAAG,CACZ,KAAKL,cAAL,CAAsB,KAAKD,UAAL,CAAkB,CAAxC,CACA,MAAO,KACV,CAEDO,QAAQ,EAAG,CACP,MAAO,MAAKN,cAAL,EAAuB,KAAKD,UACtC,CAEDQ,OAAO,EAAG,CACN,MAAO,MAAKR,UAAL,GAAoB,CAC9B,CAEDS,UAAU,EAAG,CACT,MAAO,MAAKT,UAAL,CAAkB,CAC5B,CAEDU,KAAK,CAACC,GAAD,CAAMC,KAAN,CAAa,CACd,MAAO,MAAKC,KAAL,CAAWF,GAAX,CAAgBC,KAAhB,CAAuB,IAAvB,CACV,CAEDC,KAAK,CAACF,GAAD,CAAMC,KAAN,CAAaF,KAAK,CAAG,KAArB,CAA4B,CAC7B,KAAKR,IAAL,CAAUS,GAAV,EAAiB,CACbC,KAAK,CAAEA,KADM,CAEbF,KAAK,CAAEA,KAFM,CAAjB,CAIA,MAAO,KACV,CAEDI,QAAQ,CAACH,GAAD,CAAM,CACV,GAAI,EAAEA,GAAG,GAAI,MAAKT,IAAd,CAAJ,CAAyB,MAAO,KAAP,CAEzB,GAAIA,CAAAA,IAAI,CAAG,KAAKA,IAAL,CAAUS,GAAV,CAAX,CACA,GAAIT,IAAI,CAACQ,KAAT,CAAgB,CACZ,MAAO,MAAKR,IAAL,CAAUS,GAAV,CACV,CACD,MAAOT,CAAAA,IAAI,CAACU,KACf,CA7DwB","sourcesContent":["export default class Session {\r\n    constructor() {\r\n        this.accessTime = 0\r\n        this.nextAccessTime = 1\r\n\r\n        this.data = {}\r\n    }\r\n\r\n    start() {\r\n        this.nextAccessTime = ++this.accessTime + 1\r\n        return this\r\n    }\r\n\r\n    restart() {\r\n        this.accessTime = 1\r\n        this.nextAccessTime = 2\r\n        return this\r\n    }\r\n\r\n    skip() {\r\n        this.nextAccessTime = this.accessTime\r\n        return this\r\n    }\r\n\r\n    abortSkipping() {\r\n        this.nextAccessTime = this.accessTime + 1\r\n        return this\r\n    }\r\n\r\n    skipping() {\r\n        return this.nextAccessTime <= this.accessTime\r\n    }\r\n\r\n    isFresh() {\r\n        return this.accessTime === 1\r\n    }\r\n\r\n    isNotFresh() {\r\n        return this.accessTime > 1\r\n    }\r\n\r\n    flash(key, value) {\r\n        return this.store(key, value, true)\r\n    }\r\n\r\n    store(key, value, flash = false) {\r\n        this.data[key] = {\r\n            value: value,\r\n            flash: flash,\r\n        }\r\n        return this\r\n    }\r\n\r\n    retrieve(key) {\r\n        if (!(key in this.data)) return null\r\n\r\n        let data = this.data[key]\r\n        if (data.flash) {\r\n            delete this.data[key]\r\n        }\r\n        return data.value\r\n    }\r\n}\r\n"],"file":"session.js"}