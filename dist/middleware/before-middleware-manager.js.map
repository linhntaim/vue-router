{"version":3,"sources":["../../src/middleware/before-middleware-manager.js"],"names":["BeforeMiddlewareManager","middlewareGroups","router","before","to","from","next","index","handle","length","setManager","MiddlewareManager"],"mappings":"6GAAA,+E,osGAEaA,CAAAA,uB,kJACT,iCAAYC,gBAAZ,CAA8BC,MAA9B,CAAsC,yDAClC,uBAAMD,gBAAN,CAAwBC,MAAxB,EACA,MAAKC,MAAL,CAAc,IAAd,CAFkC,YAGrC,C,oEAEGC,E,CAAIC,I,CAAMC,I,CAAM,CAChB,KAAKF,EAAL,CAAUA,EAAV,CACA,KAAKC,IAAL,CAAYA,IAAZ,CACA,KAAKC,IAAL,CAAYA,IAAZ,CACA,KAAKC,KAAL,CAAa,CAAC,CAAd,CAEA,MAAO,MAAKC,MAAL,EACV,C,uCAEQ,CACL,GAAI,IAAM,KAAKP,gBAAL,CAAsBQ,MAA5B,EAAsC,EAAE,KAAKF,KAAP,GAAiB,KAAKN,gBAAL,CAAsBQ,MAAjF,CAAyF,CACrF,KAAKH,IAAL,EACH,CAFD,IAEO,CACH,KAAKL,gBAAL,CAAsB,KAAKM,KAA3B,EAAkCG,UAAlC,CAA6C,IAA7C,EAAmDF,MAAnD,CAA0D,IAA1D,CACH,CACD,wFACH,C,oCAtBwCG,6B","sourcesContent":["import MiddlewareManager from './middleware-manager'\r\n\r\nexport class BeforeMiddlewareManager extends MiddlewareManager {\r\n    constructor(middlewareGroups, router) {\r\n        super(middlewareGroups, router)\r\n        this.before = true\r\n    }\r\n\r\n    run(to, from, next) {\r\n        this.to = to\r\n        this.from = from\r\n        this.next = next\r\n        this.index = -1\r\n\r\n        return this.handle()\r\n    }\r\n\r\n    handle() {\r\n        if (0 === this.middlewareGroups.length || ++this.index === this.middlewareGroups.length) {\r\n            this.next()\r\n        } else {\r\n            this.middlewareGroups[this.index].setManager(this).handle(this)\r\n        }\r\n        return super.handle()\r\n    }\r\n}\r\n"],"file":"before-middleware-manager.js"}