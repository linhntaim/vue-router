{"version":3,"sources":["../../src/middleware/middleware.js"],"names":["Middleware","middlewareManager","getApp","getRouter","to","before","after","handle","next","location","query","time","Date","getTime"],"mappings":"utBAAaA,CAAAA,U,qJACEC,iB,CAAmB,CAC1B,KAAKA,iBAAL,CAAyBA,iBAAzB,CACA,MAAO,KACV,C,iCAEK,CACF,MAAO,MAAKA,iBAAL,CAAuBC,MAAvB,EACV,C,uCAEQ,CACL,MAAO,MAAKD,iBAAL,CAAuBE,SAAvB,EACV,C,+BAEI,CACD,MAAO,MAAKF,iBAAL,CAAuBG,EACjC,C,6CAEW,CACR,MAAO,MAAKH,iBAAL,CAAuBI,MACjC,C,2CAEU,CACP,MAAO,MAAKJ,iBAAL,CAAuBK,KACjC,C,mCAEM,CACH,KAAKL,iBAAL,CAAuBM,MAAvB,EACH,C,uCAEQ,CACL,KAAKC,IAAL,EACH,C,0CAEQC,Q,CAAU,CACf,GAAI,SAAWA,CAAAA,QAAf,CAAyB,CACrBA,QAAQ,CAACC,KAAT,CAAeC,IAAf,CAAsB,GAAIC,CAAAA,IAAJ,GAAWC,OAAX,EACzB,CAFD,IAEO,CACHJ,QAAQ,CAACC,KAAT,CAAiB,CACbC,IAAI,CAAE,GAAIC,CAAAA,IAAJ,GAAWC,OAAX,EADO,CAGpB,CACD,KAAKZ,iBAAL,CAAuBO,IAAvB,CAA4BC,QAA5B,CACH,C","sourcesContent":["export class Middleware {\r\n    setManager(middlewareManager) {\r\n        this.middlewareManager = middlewareManager\r\n        return this\r\n    }\r\n\r\n    app() {\r\n        return this.middlewareManager.getApp()\r\n    }\r\n\r\n    router() {\r\n        return this.middlewareManager.getRouter()\r\n    }\r\n\r\n    to() {\r\n        return this.middlewareManager.to\r\n    }\r\n\r\n    runBefore() {\r\n        return this.middlewareManager.before\r\n    }\r\n\r\n    runAfter() {\r\n        return this.middlewareManager.after\r\n    }\r\n\r\n    next() {\r\n        this.middlewareManager.handle()\r\n    }\r\n\r\n    handle() {\r\n        this.next()\r\n    }\r\n\r\n    redirect(location) {\r\n        if ('query' in location) {\r\n            location.query.time = new Date().getTime()\r\n        } else {\r\n            location.query = {\r\n                time: new Date().getTime(),\r\n            }\r\n        }\r\n        this.middlewareManager.next(location)\r\n    }\r\n}\r\n"],"file":"middleware.js"}